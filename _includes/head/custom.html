{% include base_path %}

<!-- start custom head snippets -->

<!-- Support for Academicons -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="{{ base_path }}/images/favicon.svg"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>
<style>
/* =========================================================
   GLOBAL DARK MODE (force, no toggle)
   ========================================================= */
html, body {
  background: #000 !important;
  color: #f5f5f5 !important;
}

/* Make all main containers transparent so black shows */
.masthead,
.masthead__inner-wrap,
.page,
.page__content,
.archive,
.sidebar,
.initial-content,
.page__inner-wrap,
.archive__item,
.author__content,
.author__urls-wrapper {
  background: transparent !important;
}

/* =========================================================
   HEADER / NAV BAR — solid black, no gaps
   ========================================================= */
.masthead,
.masthead__inner-wrap,
.greedy-nav,
.greedy-nav .visible-links,
.greedy-nav .hidden-links {
  background: #000 !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* Remove vertical padding that causes gaps when scrolling */
.masthead__inner-wrap,
.greedy-nav,
.greedy-nav a {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* Match body offset to header height (prevents jump/gap) */
body {
  padding-top: 61px !important; /* adjust later only if nav height changes */
}

/* Nav text colors */
.masthead a,
.masthead a:visited {
  color: #9ecbff !important;
}
.masthead a:hover {
  color: #cfe3ff !important;
}

/* =========================================================
   KILL THE THEME TOGGLE (moon icon) — exact hit
   ========================================================= */
#theme-toggle {
  display: none !important;
}

/* =========================================================
   LINKS & TEXT REFINEMENT
   ========================================================= */
a {
  color: #9ecbff !important;
}
a:hover {
  color: #cfe3ff !important;
}

/* Optional: soften dividers */
hr {
  border-color: rgba(255,255,255,0.15) !important;
}
/* =========================================================
   FIX NAV HEIGHT + RESTORE BOTTOM LINE
   ========================================================= */

.masthead__inner-wrap {
  padding-top: 0.6rem !important;
  padding-bottom: 0.6rem !important;
}

.greedy-nav a {
  padding: 0.4rem 0.8rem !important;
}

.masthead {
  border-bottom: 1px solid rgba(255, 255, 255, 0.25) !important;
}

.masthead::after {
  content: "";
  display: block;
  height: 1px;
  background: rgba(255, 255, 255, 0.25);
}
/* =========================================================
   NAV TEXT — white only, bold on hover
   ========================================================= */

.masthead a,
.masthead a:visited {
  color: #ffffff !important;
  font-weight: 400;
}

.masthead a:hover {
  color: #ffffff !important;
  font-weight: 600;
}
/* =========================================================
   RIGHT-ALIGN NAV MENU (keep name on the left)
   ========================================================= */

/* Make nav a flex container */
.greedy-nav {
  display: flex !important;
  align-items: center;
}

/* Push menu items to the right */
.greedy-nav .visible-links {
  margin-left: auto !important;
}
/* =========================================================
   RIGHT-ALIGN MENU ONLY (keep site title on the left)
   ========================================================= */

/* Make the whole masthead menu a flex row */
.masthead__menu {
  display: flex !important;
  align-items: center;
}

/* Let the nav take full width so left and right can separate */
.masthead__menu nav.greedy-nav {
  width: 100% !important;
}

/* Keep site title (home link) pinned to the left */
.masthead__menu nav.greedy-nav .site-title,
.masthead__menu nav.greedy-nav a.site-title {
  margin-right: auto !important;
}

/* Push the menu items list to the far right */
.masthead__menu nav.greedy-nav ul.visible-links {
  margin-left: auto !important;
}
/* =========================================================
   RIGHT-ALIGN MENU ITEMS (site name stays left)
   ========================================================= */

/* Make nav take full width */
nav#site-nav.greedy-nav {
  width: 100% !important;
}

/* Turn the visible links row into a flex layout */
nav#site-nav.greedy-nav > ul.visible-links {
  display: flex !important;
  align-items: center !important;
  width: 100% !important;
}

/* Push everything after the first item to the right */
nav#site-nav.greedy-nav > ul.visible-links > li:first-child {
  margin-right: auto !important;
}
/* =========================================================
   DESKTOP: disable hamburger (greedy-nav collapse)
   ========================================================= */

/* Only apply on wider screens */
@media (min-width: 900px) {

  /* Hide the hamburger button */
  /*nav#site-nav.greedy-nav > button {
    display: none !important;
  }

  /* Never show the hidden links dropdown */
  /*nav#site-nav.greedy-nav > ul.hidden-links {
    display: none !important;
  }

  /* Keep all links in one row */
  nav#site-nav.greedy-nav > ul.visible-links {
    display: flex !important;
    flex-wrap: nowrap !important;
    white-space: nowrap !important;
  }
}
/* =========================================================
   DESKTOP: always show menu as a flat row (no hamburger)
   ========================================================= */
@media (min-width: 900px) {

  /* Hide the hamburger button */
  nav#site-nav.greedy-nav > button {
    display: none !important;
  }

  /* Make the nav a flex row */
  nav#site-nav.greedy-nav {
    display: flex !important;
    align-items: center !important;
    width: 100% !important;
  }

  /* Force BOTH lists to behave like one flat menu row */
  nav#site-nav.greedy-nav > ul.visible-links,
  nav#site-nav.greedy-nav > ul.hidden-links {
    display: flex !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
    white-space: nowrap !important;
    position: static !important;   /* cancel dropdown positioning */
    opacity: 1 !important;
    transform: none !important;
    pointer-events: auto !important;
    background: transparent !important;
    box-shadow: none !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Important: the theme may add .hidden class to hidden-links */
  nav#site-nav.greedy-nav > ul.hidden-links.hidden {
    display: flex !important;
  }

  /* Keep "Mengying Wang" (first item in visible-links) on the left */
  nav#site-nav.greedy-nav > ul.visible-links > li:first-child {
    margin-right: auto !important;
  }

  /* Spacing between items (optional, makes it cleaner) */
  nav#site-nav.greedy-nav li {
    margin-left: 0.6rem;
  }
  nav#site-nav.greedy-nav > ul.visible-links > li:first-child {
    margin-left: 0 !important;
  }
}

/* =========================================================
   FIX: Ensure items moved into hidden-links (e.g., CV) still show on desktop
   ========================================================= */
@media (min-width: 900px) {
  /* If theme marks hidden-links as hidden, unhide it */
  nav#site-nav.greedy-nav > ul.hidden-links {
    visibility: visible !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* Force any li inside hidden-links to display inline like normal menu items */
  nav#site-nav.greedy-nav > ul.hidden-links > li {
    display: list-item !important; /* keep li semantics */
  }

  /* The anchor inside should behave like menu links */
  nav#site-nav.greedy-nav > ul.hidden-links > li > a {
    display: block !important;
  }
}

/* ===== Masthead: 2-line title + subtitle (Yuecheng style) ===== */
.masthead {
  padding-top: 18px !important;
  padding-bottom: 18px !important;
}

.masthead .site-title {
  display: inline-flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  line-height: 1.1 !important;
}

.masthead .site-subtitle {
  margin-top: 10px;
  font-size: 0.95rem;
  font-weight: 400;
  opacity: 0.85;
}
</style>

<!-- end custom head snippets -->
