---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;
/* ===============================
   Custom overrides
   =============================== */

/* Right-align top navigation links (DESKTOP only, don't break mobile dropdown) */
.masthead__inner-wrap {
  max-width: 100%;
}

.masthead__menu {
  width: 100%;
}

/* Only target the top visible nav links row */
.greedy-nav {
  display: flex;
  align-items: center;
  width: 100%;
}

.greedy-nav .visible-links {
  display: flex;
  align-items: center;
  width: 100%;
}

/* Keep site title on the left, push the rest to the right */
.greedy-nav .visible-links > li.masthead__menu-item--lg {
  margin-right: auto;
}

/* (Optional) make spacing tighter */
.greedy-nav .visible-links > li {
  margin-left: 0.3rem;
  margin-right: 0.3rem;
}

/* Smooth scroll for anchor navigation */
html {
  scroll-behavior: smooth;
}
/* Prevent section titles from being hidden under the sticky header */
section {
  scroll-margin-top: 6rem;
}
section {
  padding-top: 2.5rem;
  padding-bottom: 2.5rem;
}

/* Hide the theme toggle button (top-right) */
.theme-toggle,
.toggle-theme,
.masthead__menu-item--theme,
button[aria-label*="theme"],
button[title*="theme"],
button[aria-label*="Toggle"] {
  display: none !important;
}

/* ================================
   Mobile author profile (Yuhan Luo style)
   - Enlarge + center avatar
   - Remove duplicated author name on mobile
   - Center bio + contact links
   ================================ */
@media (max-width: 768px) {
  /* 1) Hide duplicated name in the author profile on mobile */
  .author__name {
    display: none !important;
  }

  /* 2) Center & enlarge avatar */
  .author__avatar {
    float: none !important;
    display: flex !important;
    justify-content: center !important;
    margin: 24px 0 16px 0 !important;
  }

  .author__avatar img {
    width: 160px !important;       /* change to 140/180 if you want */
    max-width: 160px !important;
    height: auto !important;
    border-radius: 50% !important;
  }

  /* 3) Center the author content (bio / meta) */
  .author__content {
    text-align: center !important;
    padding: 0 12px !important;
  }

  /* 4) Degree / affiliation line (your bio) */
  .author__bio {
    font-size: 0.95rem !important;
    opacity: 0.85 !important;
    margin: 0 0 12px 0 !important;
  }

  /* 5) Center and wrap the contact links nicely */
  .author__urls-wrapper {
    display: flex !important;
    justify-content: center !important;
  }

  .author__urls {
    display: inline-flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    gap: 10px 16px !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  .author__urls a {
    font-size: 0.9rem !important;
    opacity: 0.9 !important;
  }
}
/* ================================
   Mobile fixes
   1) dropdown menu not clipped
   2) remove Follow button
   3) contacts always visible + centered
   ================================ */
@media (max-width: 768px) {
  /* 1) Fix greedy-nav dropdown (hidden-links) so the first item isn't off-screen */
  .greedy-nav {
    position: relative;
  }

  .greedy-nav .hidden-links {
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
    box-sizing: border-box !important;
  }

  .greedy-nav .hidden-links a {
    display: block !important;
    white-space: normal !important;
  }

  /* 2) Remove Follow button completely */
  .author__urls-wrapper button {
    display: none !important;
  }

  /* 3) Make the contact links always visible & centered */
  .author__urls-wrapper {
    max-height: none !important;
    overflow: visible !important;
  }

  .author__urls {
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    align-items: center !important;
    gap: 10px 16px !important;
    margin: 0 !important;
    padding: 0 !important;
  }
}


